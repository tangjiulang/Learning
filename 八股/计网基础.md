# TCP/IP 协议有几层

**应用层**：Http，Https

**传输层**：TCP/UDP

**网络层**：IP

**网络接口层**：MAC

![img](./../img/%E5%B0%81%E8%A3%85.png)

# URL 到返回显示发生了什么

1. 解析 URL，产生 HTTP 请求
2. 找到 DNS 服务器，拿到对应的 IP 地址
3. 然后交给协议栈（TCP/UDP），包成 TCP/UDP 数据包
4. TCP 数据包再由 IP 封装成网络包传输给通信对象
5. IP 头部加上 MAC 头部
6. 通过网卡将数字信息转化为电信号
7. 交换机根据 MAC 地址表查找 MAC 地址，然后将信号发送到相应的端口，找不到就广播，然后将响应信息加到 MAC 缓存中
8. 然后通过路由器转向下一个路由或者目标设备
9. 到达服务器后，服务器逐步拆解数据包
10. 验证成功后，将返回的数据包封装起来，再传回客户端
11. 客户端得到响应数据后，渲染页面
12. 客户端发起四次挥手，断开连接

# OSI 七层模型

应用层、表示层、会话层、传输层、网络层、数据链路层以及物理层。

- 应用层，负责给应用程序提供统一的接口；
- 表示层，负责把数据转换成兼容另一个系统能识别的格式；
- 会话层，负责建立、管理和终止表示层实体之间的通信会话；
- 传输层，负责端到端的数据传输；
- 网络层，负责数据的路由、转发、分片；
- 数据链路层，负责数据的封帧和差错检测，以及 MAC 寻址；
- 物理层，负责在物理网络中传输数据帧；

![img](./../img/OSI%E4%B8%8ETCP.png)

# Linux 收发网络包

![img](./../img/%E6%94%B6%E5%8F%91%E6%B5%81%E7%A8%8B.png)